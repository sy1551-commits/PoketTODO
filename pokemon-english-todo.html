<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ë‹¨ì–´ TODO - í¬ì¼“ëª¬ê³¼ í•¨ê»˜!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        .pokemon-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .completed {
            text-decoration: line-through;
            opacity: 0.6;
        }
        .pokemon-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid #e0e7ff;
            transition: all 0.3s ease;
        }
        .pokemon-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        .loading {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .word-item {
            background: linear-gradient(135deg, #fef7cd 0%, #fff4e6 100%);
            border-left: 4px solid #f59e0b;
            transition: all 0.3s ease;
        }
        .word-item:hover {
            background: linear-gradient(135deg, #fef3c7 0%, #fef7cd 100%);
            transform: translateX(5px);
        }
        .word-item.completed {
            background: linear-gradient(135deg, #f0f4f8 0%, #e2e8f0 100%);
            border-left-color: #94a3b8;
        }
    </style>
</head>
<body class="pokemon-bg min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- í—¤ë” -->
        <div class="text-center mb-8">
            <h1 class="text-5xl font-bold text-white mb-4 drop-shadow-lg">âš¡ ì˜ë‹¨ì–´ TODO âš¡</h1>
            <p class="text-xl text-white opacity-90">í¬ì¼“ëª¬ê³¼ í•¨ê»˜í•˜ëŠ” ì˜ë‹¨ì–´ í•™ìŠµ!</p>
        </div>

        <!-- í¬ì¼“ëª¬ ìºë¦­í„° ì„¹ì…˜ -->
        <div class="pokemon-card rounded-2xl p-6 mb-8 text-center">
            <div id="pokemonContainer" class="flex flex-col items-center">
                <div class="w-32 h-32 bg-gradient-to-br from-yellow-200 to-yellow-400 rounded-full flex items-center justify-center mb-4 shadow-lg">
                    <img id="pokemonImage" src="" alt="í¬ì¼“ëª¬" class="w-24 h-24 object-contain">
                </div>
                <h2 id="pokemonName" class="text-2xl font-bold text-gray-800 mb-2">í”¼ì¹´ì¸„</h2>
                <p class="text-gray-600">ì˜¤ëŠ˜ë„ ì˜ë‹¨ì–´ ê³µë¶€ í™”ì´íŒ…!</p>
                <button onclick="changePokemon()" class="mt-4 bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-full transition-colors">
                    í¬ì¼“ëª¬ ë°”ê¾¸ê¸°
                </button>
            </div>
        </div>

        <!-- í†µê³„ ì„¹ì…˜ -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <div class="pokemon-card rounded-xl p-6 text-center">
                <div class="text-3xl font-bold text-blue-600 mb-2" id="totalWords">0</div>
                <div class="text-gray-600">ì´ ë‹¨ì–´</div>
            </div>
            <div class="pokemon-card rounded-xl p-6 text-center">
                <div class="text-3xl font-bold text-green-600 mb-2" id="completedWords">0</div>
                <div class="text-gray-600">ì™„ë£Œí•œ ë‹¨ì–´</div>
            </div>
            <div class="pokemon-card rounded-xl p-6 text-center">
                <div class="text-3xl font-bold text-purple-600 mb-2" id="progressPercent">0%</div>
                <div class="text-gray-600">ì§„í–‰ë¥ </div>
            </div>
        </div>

        <!-- ë‹¨ì–´ ì¶”ê°€ ì„¹ì…˜ -->
        <div class="pokemon-card rounded-2xl p-6 mb-8">
            <div class="flex flex-col md:flex-row gap-4">
                <input 
                    type="text" 
                    id="wordInput" 
                    placeholder="ì˜ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: apple, beautiful, computer...)"
                    class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg"
                    onkeypress="handleKeyPress(event)"
                >
                <button 
                    onclick="addWord()" 
                    class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors"
                >
                    ë‹¨ì–´ ì¶”ê°€
                </button>
                <button 
                    onclick="addRandomWords()" 
                    class="bg-purple-500 hover:bg-purple-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors"
                    id="randomButton"
                >
                    ì˜ë‹¨ì–´ ì¶”ê°€ (5ê°œ)
                </button>
            </div>
        </div>

        <!-- ë‹¨ì–´ ëª©ë¡ -->
        <div class="pokemon-card rounded-2xl p-6">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                ğŸ“š ë‚˜ì˜ ì˜ë‹¨ì–´ ëª©ë¡
                <span class="ml-auto text-sm font-normal text-gray-500" id="todayDate"></span>
            </h3>
            <div id="wordList" class="space-y-3">
                <div class="text-center py-8 text-gray-500">
                    ì•„ì§ ë“±ë¡ëœ ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.<br>
                    ìƒˆë¡œìš´ ì˜ë‹¨ì–´ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”! ğŸŒŸ
                </div>
            </div>
        </div>
    </div>

    <script>
        let words = [];
        let currentPokemonId = 25; // í”¼ì¹´ì¸„ë¶€í„° ì‹œì‘

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            updateTodayDate();
            loadPokemon(currentPokemonId);
            updateStats();
        });

        // ì˜¤ëŠ˜ ë‚ ì§œ í‘œì‹œ
        function updateTodayDate() {
            const today = new Date();
            const dateString = today.toLocaleDateString('ko-KR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            document.getElementById('todayDate').textContent = dateString;
        }

        // í¬ì¼“ëª¬ ë¡œë“œ
        async function loadPokemon(id) {
            try {
                const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
                const pokemon = await response.json();
                
                document.getElementById('pokemonImage').src = pokemon.sprites.other['official-artwork'].front_default || pokemon.sprites.front_default;
                document.getElementById('pokemonName').textContent = pokemon.name.charAt(0).toUpperCase() + pokemon.name.slice(1);
                
                // í¬ì¼“ëª¬ì´ ë°”ë€” ë•Œ ì‘ì› ë©”ì‹œì§€
                const messages = [
                    `${pokemon.name}ê°€ í•¨ê»˜ ê³µë¶€í•˜ìê³  í•´ìš”!`,
                    `${pokemon.name}ì™€ í•¨ê»˜ ì˜ë‹¨ì–´ ë§ˆìŠ¤í„°ê°€ ë˜ì–´ë´ìš”!`,
                    `${pokemon.name}ê°€ ì‘ì›í•˜ê³  ìˆì–´ìš”!`,
                    `${pokemon.name}ì™€ í•¨ê»˜ ì˜¤ëŠ˜ë„ í™”ì´íŒ…!`
                ];
                
                setTimeout(() => {
                    document.querySelector('#pokemonContainer p').textContent = messages[Math.floor(Math.random() * messages.length)];
                }, 500);
                
            } catch (error) {
                console.error('í¬ì¼“ëª¬ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // í¬ì¼“ëª¬ ë°”ê¾¸ê¸°
        function changePokemon() {
            const randomId = Math.floor(Math.random() * 150) + 1; // 1-150ë²ˆ í¬ì¼“ëª¬
            currentPokemonId = randomId;
            loadPokemon(randomId);
            
            Swal.fire({
                title: 'ìƒˆë¡œìš´ í¬ì¼“ëª¬!',
                text: 'ìƒˆë¡œìš´ ì¹œêµ¬ê°€ í•¨ê»˜ ê³µë¶€í•  ê±°ì˜ˆìš”!',
                icon: 'success',
                timer: 2000,
                showConfirmButton: false
            });
        }

        // ì—”í„°í‚¤ ì²˜ë¦¬
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                addWord();
            }
        }

        // ë‹¨ì–´ ì¶”ê°€
        function addWord() {
            const input = document.getElementById('wordInput');
            const word = input.value.trim();
            
            if (!word) {
                Swal.fire({
                    icon: 'warning',
                    title: 'ë‹¨ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!',
                    text: 'ì˜ë‹¨ì–´ë¥¼ ì…ë ¥í•´ì•¼ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”.',
                });
                return;
            }

            // ì¤‘ë³µ í™•ì¸
            if (words.some(w => w.word.toLowerCase() === word.toLowerCase())) {
                Swal.fire({
                    icon: 'info',
                    title: 'ì´ë¯¸ ìˆëŠ” ë‹¨ì–´ì˜ˆìš”!',
                    text: 'ë‹¤ë¥¸ ë‹¨ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.',
                });
                return;
            }

            const newWord = {
                id: Date.now(),
                word: word,
                completed: false,
                date: new Date().toLocaleDateString('ko-KR')
            };

            words.push(newWord);
            input.value = '';
            renderWords();
            updateStats();

            Swal.fire({
                icon: 'success',
                title: 'ë‹¨ì–´ ì¶”ê°€ ì™„ë£Œ!',
                text: `"${word}"ê°€ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆì–´ìš”!`,
                timer: 1500,
                showConfirmButton: false
            });
        }

        // ëœë¤ ì˜ë‹¨ì–´ 5ê°œ ì¶”ê°€
        async function addRandomWords() {
            const button = document.getElementById('randomButton');
            const originalText = button.textContent;
            button.textContent = 'ë‹¨ì–´ ê°€ì ¸ì˜¤ëŠ” ì¤‘...';
            button.disabled = true;
            button.classList.add('loading');

            try {
                const commonWords = [
                    'apple', 'banana', 'computer', 'beautiful', 'language', 'freedom', 'happiness', 'knowledge',
                    'adventure', 'creativity', 'friendship', 'sunshine', 'rainbow', 'butterfly', 'mountain',
                    'ocean', 'forest', 'journey', 'discovery', 'imagination', 'celebration', 'opportunity',
                    'challenge', 'success', 'progress', 'innovation', 'inspiration', 'motivation', 'dedication',
                    'achievement', 'excellence', 'wisdom', 'courage', 'kindness', 'respect', 'honesty',
                    'responsibility', 'compassion', 'gratitude', 'patience', 'perseverance', 'determination',
                    'confidence', 'optimism', 'enthusiasm', 'curiosity', 'flexibility', 'resilience', 'empathy',
                    'integrity', 'humility', 'generosity', 'tolerance', 'understanding', 'cooperation', 'teamwork'
                ];

                // ì´ë¯¸ ì¶”ê°€ëœ ë‹¨ì–´ ì œì™¸í•˜ê³  ëœë¤ ì„ íƒ
                const availableWords = commonWords.filter(word => 
                    !words.some(w => w.word.toLowerCase() === word.toLowerCase())
                );

                if (availableWords.length < 5) {
                    Swal.fire({
                        icon: 'info',
                        title: 'ë‹¨ì–´ê°€ ë¶€ì¡±í•´ìš”!',
                        text: 'ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ë‹¨ì–´ê°€ 5ê°œ ë¯¸ë§Œì…ë‹ˆë‹¤.',
                    });
                    return;
                }

                const selectedWords = [];
                for (let i = 0; i < 5; i++) {
                    const randomIndex = Math.floor(Math.random() * availableWords.length);
                    selectedWords.push(availableWords.splice(randomIndex, 1)[0]);
                }

                // ë‹¨ì–´ë“¤ ì¶”ê°€
                selectedWords.forEach(word => {
                    const newWord = {
                        id: Date.now() + Math.random(),
                        word: word,
                        completed: false,
                        date: new Date().toLocaleDateString('ko-KR')
                    };
                    words.push(newWord);
                });

                renderWords();
                updateStats();

                Swal.fire({
                    icon: 'success',
                    title: 'ì˜ë‹¨ì–´ 5ê°œ ì¶”ê°€ ì™„ë£Œ!',
                    html: `ì¶”ê°€ëœ ë‹¨ì–´ë“¤:<br><strong>${selectedWords.join(', ')}</strong>`,
                    timer: 3000,
                    showConfirmButton: false
                });

            } catch (error) {
                console.error('ëœë¤ ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
                Swal.fire({
                    icon: 'error',
                    title: 'ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨',
                    text: 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.',
                });
            } finally {
                button.textContent = originalText;
                button.disabled = false;
                button.classList.remove('loading');
            }
        }

        // ë‹¨ì–´ ì™„ë£Œ í† ê¸€
        function toggleWord(id) {
            const word = words.find(w => w.id === id);
            if (word) {
                word.completed = !word.completed;
                renderWords();
                updateStats();

                if (word.completed) {
                    Swal.fire({
                        icon: 'success',
                        title: 'ì™„ë£Œ!',
                        text: `"${word.word}" í•™ìŠµ ì™„ë£Œ! ğŸ‰`,
                        timer: 1500,
                        showConfirmButton: false
                    });
                }
            }
        }

        // ë‹¨ì–´ ì‚­ì œ
        function deleteWord(id) {
            Swal.fire({
                title: 'ì •ë§ ì‚­ì œí•˜ì‹œê² ì–´ìš”?',
                text: "ì‚­ì œëœ ë‹¨ì–´ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ì–´ìš”!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'ì‚­ì œ',
                cancelButtonText: 'ì·¨ì†Œ'
            }).then((result) => {
                if (result.isConfirmed) {
                    words = words.filter(w => w.id !== id);
                    renderWords();
                    updateStats();
                    
                    Swal.fire({
                        icon: 'success',
                        title: 'ì‚­ì œ ì™„ë£Œ!',
                        timer: 1500,
                        showConfirmButton: false
                    });
                }
            });
        }

        // ë‹¨ì–´ ëª©ë¡ ë Œë”ë§
        function renderWords() {
            const wordList = document.getElementById('wordList');
            
            if (words.length === 0) {
                wordList.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        ì•„ì§ ë“±ë¡ëœ ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.<br>
                        ìƒˆë¡œìš´ ì˜ë‹¨ì–´ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”! ğŸŒŸ
                    </div>
                `;
                return;
            }

            wordList.innerHTML = words.map(word => `
                <div class="word-item ${word.completed ? 'completed' : ''} rounded-lg p-4 flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <input 
                            type="checkbox" 
                            ${word.completed ? 'checked' : ''}
                            onchange="toggleWord(${word.id})"
                            class="w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"
                        >
                        <div class="flex flex-col">
                            <span class="text-lg font-semibold ${word.completed ? 'completed' : ''} text-gray-800">
                                ${word.word}
                            </span>
                            <span class="text-sm text-gray-500">${word.date}</span>
                        </div>
                    </div>
                    <button 
                        onclick="deleteWord(${word.id})"
                        class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors"
                    >
                        ì‚­ì œ
                    </button>
                </div>
            `).join('');
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            const total = words.length;
            const completed = words.filter(w => w.completed).length;
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;

            document.getElementById('totalWords').textContent = total;
            document.getElementById('completedWords').textContent = completed;
            document.getElementById('progressPercent').textContent = `${percentage}%`;
        }
    </script>
</body>
</html>